# RSS Media Bus v3.0 üöÄ

**–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ RSS —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

RSS Media Bus - —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∞—è —ç–≤–æ–ª—é—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ RSS, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

- **–ï–¥–∏–Ω–∞—è RSS —à–∏–Ω–∞** - –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∫–∞–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **–ú–æ–¥—É–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - —Ñ–∏–ª—å—Ç—Ä—ã, –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏, –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
RSS Sources ‚Üí RSS Media Bus ‚Üí Processors ‚Üí Outputs ‚Üí Users
     ‚Üì              ‚Üì             ‚Üì           ‚Üì        ‚Üì
  ‚Ä¢ TASS        ‚Ä¢ Parser      ‚Ä¢ Filters   ‚Ä¢ Telegram  ‚Ä¢ User1
  ‚Ä¢ RIA         ‚Ä¢ Queue       ‚Ä¢ Translator ‚Ä¢ Email    ‚Ä¢ User2
  ‚Ä¢ BBC         ‚Ä¢ Scheduler   ‚Ä¢ Analyzer   ‚Ä¢ Webhook  ‚Ä¢ UserN
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/opt/rss_media_bus/
‚îú‚îÄ‚îÄ core/                      # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ source_manager.py     # RSS –ø–∞—Ä—Å–µ—Ä (–∏–∑ rss_parser.py)
‚îÇ   ‚îú‚îÄ‚îÄ database.py          # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ config_hot_reload.py # –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ long_term_monitor.py # –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ processors/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ subscribers/             # –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ outputs/                # –°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ telegram_sender.py  # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ telegram_health_reporter.py # –û—Ç—á–µ—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ sources.yaml       # RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ users.yaml        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
‚îî‚îÄ‚îÄ legacy_bridge/         # –ú–æ—Å—Ç —Å–æ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º–æ–π
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- SQLite3
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd /opt/rss_media_bus
pip install -r requirements.txt
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ `config/sources.yaml`
2. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ `config/users.yaml`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É: `python main.py`

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ v2.0

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π:

1. **–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞** –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ `/opt/media_monitoring`
2. **–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ `/opt/rss_media_bus`
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–∞

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ v3.0

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –≤–º–µ—Å—Ç–æ N –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = 30 —Å–µ–∫—É–Ω–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

### –ì–∏–±–∫–æ—Å—Ç—å
- –ú–æ–¥—É–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã (—Ñ–∏–ª—å—Ç—Ä—ã, –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏, –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã)
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—ã—Ö–æ–¥–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ RSS –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üìà –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

- [x] **–≠—Ç–∞–ø 1**: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] **–≠—Ç–∞–ø 2**: –ë–∞–∑–æ–≤—ã–π MVP —Å –æ–¥–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- [ ] **–≠—Ç–∞–ø 3**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å legacy —Å–∏—Å—Ç–µ–º–æ–π
- [ ] **–≠—Ç–∞–ø 4**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ API
- [ ] **–≠—Ç–∞–ø 5**: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```yaml
# config/users.yaml
new_user:
  name: "My Monitor"
  telegram:
    chat_id: "-123456789"
    bot_token: "your_token"
  sources: ["tass_main", "ria_main"]
  processors:
    - name: "keyword_filter"
      config:
        keywords: ["keyword1", "keyword2"]
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
```python
# core/processors/my_processor.py
class MyProcessor:
    def process(self, article, config):
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
        return modified_article
```

---

*–≠–≤–æ–ª—é—Ü–∏—è –æ—Ç media_monitoring v2.0 –∫ RSS Media Bus v3.0* 