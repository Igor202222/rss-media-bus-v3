# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Rate Limiting –≤ RSS Media Bus v3.2

## üìä **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:**

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- ‚ùå 55-72 —Å—Ç–∞—Ç—å–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –∑–∞ ~6 —Å–µ–∫—É–Ω–¥ 
- ‚ùå 226 —Å–ª—É—á–∞–µ–≤ rate limiting (429 –æ—à–∏–±–æ–∫)
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∞ –≤—Å–µ–≥–æ 0.1 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚ùå –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ 20 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É –Ω–∞ —á–∞—Ç

### **–õ–∏–º–∏—Ç—ã Telegram Bot API:**
- üî¥ **30 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫—É–Ω–¥—É** (–æ–±—â–∏–π –ª–∏–º–∏—Ç –±–æ—Ç–∞)
- üî¥ **20 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É –Ω–∞ —á–∞—Ç** (–∫–ª—é—á–µ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- ‚úÖ **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ:** 1 —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã

## üéØ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

### **1. –¢–æ—á–Ω–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤**
```python
# –õ–∏–º–∏—Ç: 20 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É = 3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
await asyncio.sleep(3.0)  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–∞
```

### **2. –£–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø–∞—É–∑—ã**
- ‚ùå –£–±—Ä–∞–ª–∏ 60-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É –ø–∞—á–∫–∞–º–∏
- ‚ùå –£–±—Ä–∞–ª–∏ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–∞—á–∫–∏  
- ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å —Ç–æ—á–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

### **3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```python
# –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫: —Å 3 –¥–æ 2
max_retries = 2
# –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç Telegram (–±–µ–∑ –¥–æ–±–∞–≤–æ–∫)
time.sleep(retry_after)
```

### **4. –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏**
- –£–±—Ä–∞–Ω —Å–µ–º–∞—Ñ–æ—Ä (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏)
- –ü—Ä—è–º–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—å—è–º —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≤—Ä–µ–º–µ–Ω–∏
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

## ‚è∞ **–ù–æ–≤–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

### **–î–ª—è 65 —Å—Ç–∞—Ç–µ–π:**
- **–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏:** 65 √ó 3 —Å–µ–∫ = 195 —Å–µ–∫—É–Ω–¥ (~3.3 –º–∏–Ω—É—Ç—ã)
- **–°–∫–æ—Ä–æ—Å—Ç—å:** 20 —Å—Ç–∞—Ç–µ–π –≤ –º–∏–Ω—É—Ç—É (–º–∞–∫—Å–∏–º—É–º –ø–æ –ª–∏–º–∏—Ç–∞–º Telegram)
- **–ë–µ–∑ rate limiting:** 0 –æ—à–∏–±–æ–∫ 429

### **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –ü–ª–æ—Ö–æ–µ —Ä–µ—à–µ–Ω–∏–µ | –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ |
|----------|------|---------------|-------------|
| 65 —Å—Ç–∞—Ç–µ–π | 6 —Å–µ–∫ (—Å –æ—à–∏–±–∫–∞–º–∏) | 10-12 –º–∏–Ω—É—Ç | 3.3 –º–∏–Ω—É—Ç—ã |
| Rate limiting | 226 –æ—à–∏–±–æ–∫ | 0 –æ—à–∏–±–æ–∫ | 0 –æ—à–∏–±–æ–∫ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ | –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ | 10% | 100% |

## üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

- ‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** –ª–∏–º–∏—Ç–æ–≤ Telegram
- ‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ 429 –æ—à–∏–±–æ–∫** –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞** –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è** –æ—Ç–ø—Ä–∞–≤–∫–∏

## üîÑ **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f 'rss_bus_core.py|user_notification_service.py'

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É
./start_system.sh
```

## üìã **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate limiting
grep -c "429\|Rate limit" user_service.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É
tail -f user_service.log | grep "üì§\|‚úÖ\|üìä"
```

---

**üìÖ –î–∞—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 25 –∏—é–ª—è 2025  
**üéØ –í–µ—Ä—Å–∏—è:** RSS Media Bus v3.2  
**‚úÖ –°—Ç–∞—Ç—É—Å:** –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ 